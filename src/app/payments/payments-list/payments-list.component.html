<h1>Tous les paiements</h1>

<app-payment-lines-overviews [loading]="_paymentsStore.isUploading()"
                             [paymentLinesOverviews]="_paymentsStore.paymentLinesOverviews()"></app-payment-lines-overviews>

@if (_paymentsStore.paymentsLoading()) {
  <app-spinner></app-spinner>
} @else {
  @if (!_paymentsStore.payments().length) {
    <div>
      <span class="sub-title">Aucun paiement trouv√©.</span>
    </div>
  } @else {
    @for (payment of _paymentsStore.payments(); track payment.id) {
      <app-payment-item (click)="_navigateToPaymentDetails(payment.id)"
                        [payment]="payment"></app-payment-item>
    }
  }

  <input type="file"
         #fileInput
         (change)="_onFileSelected($event)"
         accept="image/*,application/pdf"
  />

  <app-button [text]="'Ajouter un paiement'"
              [floating]="true"
              [disabled]="_paymentsStore.isUploading()"
              [loading]="_paymentsStore.isUploading()"
              (click)="_triggerFileInput()"></app-button>
}
